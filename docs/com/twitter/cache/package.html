<!DOCTYPE html >
<html>
        <head>
          <title>cache - com.twitter.cache</title>
          <meta name="description" content="cache - com.twitter.cache" />
          <meta name="keywords" content="cache com.twitter.cache" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../../../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../../../lib/jquery.js" id="jquery-js"></script>
      <script type="text/javascript" src="../../../lib/jquery-ui.js"></script>
      <script type="text/javascript" src="../../../lib/template.js"></script>
      <script type="text/javascript" src="../../../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
         if(top === self) {
            var url = '../../../index.html';
            var hash = 'com.twitter.cache.package';
            var anchor = window.location.hash;
            var anchor_opt = '';
            if (anchor.length >= 1)
              anchor_opt = '@' + anchor.substring(1);
            window.location.href = url + '#' + hash + anchor_opt;
         }
   	  </script>
    
        </head>
        <body class="value">
      <div id="definition">
        <img alt="Package" src="../../../lib/package_big.png" />
        <p id="owner"><a href="../../package.html" class="extype" name="com">com</a>.<a href="../package.html" class="extype" name="com.twitter">twitter</a></p>
        <h1>cache</h1><span class="permalink">
      <a href="../../../index.html#com.twitter.cache.package" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">cache</span>
      </span>
      </h4>
      
          <div id="comment" class="fullcommenttop"></div>
        

      <div id="mbrsel">
        <div id="textfilter"><span class="pre"></span><span class="input"><input id="mbrsel-input" type="text" accesskey="/" /></span><span class="post"></span></div>
        
        
        <div id="visbl">
            <span class="filtertype">Visibility</span>
            <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
          </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        <div id="types" class="types members">
              <h3>Type Members</h3>
              <ol><li name="com.twitter.cache.ConcurrentMapCache" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ConcurrentMapCache[K,V]extendsFutureCache[K,V]"></a>
      <a id="ConcurrentMapCache[K,V]:ConcurrentMapCache[K,V]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a href="ConcurrentMapCache.html"><span class="name">ConcurrentMapCache</span></a><span class="tparams">[<span name="K">K</span>, <span name="V">V</span>]</span><span class="result"> extends <a href="FutureCache.html" class="extype" name="com.twitter.cache.FutureCache">FutureCache</a>[<span class="extype" name="com.twitter.cache.ConcurrentMapCache.K">K</span>, <span class="extype" name="com.twitter.cache.ConcurrentMapCache.V">V</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#com.twitter.cache.package@ConcurrentMapCache[K,V]extendsFutureCache[K,V]" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">A <a href="FutureCache.html" class="extype" name="com.twitter.cache.FutureCache">com.twitter.cache.FutureCache</a> backed by a
<span class="extype" name="java.util.concurrent.ConcurrentMap">java.util.concurrent.ConcurrentMap</span></p><div class="fullcomment"><div class="comment cmt"><p>A <a href="FutureCache.html" class="extype" name="com.twitter.cache.FutureCache">com.twitter.cache.FutureCache</a> backed by a
<span class="extype" name="java.util.concurrent.ConcurrentMap">java.util.concurrent.ConcurrentMap</span></p><p>Any correct implementation should make sure that you evict failed
results, and don't interrupt the underlying request that has been
fired off.  <span class="extype" name="EvictingCache">EvictingCache</span> and <span class="extype" name="Future#interrupting">Future#interrupting</span> are
useful tools for building correct FutureCaches.  A reference
implementation for caching the results of an asynchronous function
with a <span class="extype" name="ConcurrentMap">ConcurrentMap</span> can be found at <a href="FutureCache$.html#fromMap[K,V](fn:K=&gt;com.twitter.util.Future[V],map:java.util.concurrent.ConcurrentMap[K,com.twitter.util.Future[V]]):K=&gt;com.twitter.util.Future[V]" class="extmbr" name="com.twitter.cache.FutureCache#fromMap">FutureCache$.fromMap</a>.
</p></div></div>
    </li><li name="com.twitter.cache.FutureCache" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="FutureCache[K,V]extendsAnyRef"></a>
      <a id="FutureCache[K,V]:FutureCache[K,V]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a href="FutureCache.html"><span class="name">FutureCache</span></a><span class="tparams">[<span name="K">K</span>, <span name="V">V</span>]</span><span class="result"> extends <a href="../../../scala/package.html#AnyRef=Object" class="extmbr" name="scala.AnyRef">AnyRef</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#com.twitter.cache.package@FutureCache[K,V]extendsAnyRef" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">FutureCache is used to represent an in-memory, in-process, asynchronous cache.</p><div class="fullcomment"><div class="comment cmt"><p>FutureCache is used to represent an in-memory, in-process, asynchronous cache.</p><p>Every cache operation is atomic.</p><p>Any correct implementation should make sure that you evict failed
results, and don't interrupt the underlying request that has been
fired off.  <span class="extype" name="EvictingCache">EvictingCache</span> and <span class="extype" name="Future#interrupting">Future#interrupting</span> are
useful tools for building correct FutureCaches.  A reference
implementation for caching the results of an asynchronous function
can be found at <a href="FutureCache$.html#default[K,V](fn:K=&gt;com.twitter.util.Future[V],cache:com.twitter.cache.FutureCache[K,V]):K=&gt;com.twitter.util.Future[V]" class="extmbr" name="com.twitter.cache.FutureCache#default">FutureCache$.default</a>.
</p></div></div>
    </li><li name="com.twitter.cache.FutureCacheProxy" visbl="pub" data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="FutureCacheProxy[K,V]extendsFutureCache[K,V]"></a>
      <a id="FutureCacheProxy[K,V]:FutureCacheProxy[K,V]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a href="FutureCacheProxy.html"><span class="name">FutureCacheProxy</span></a><span class="tparams">[<span name="K">K</span>, <span name="V">V</span>]</span><span class="result"> extends <a href="FutureCache.html" class="extype" name="com.twitter.cache.FutureCache">FutureCache</a>[<span class="extype" name="com.twitter.cache.FutureCacheProxy.K">K</span>, <span class="extype" name="com.twitter.cache.FutureCacheProxy.V">V</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#com.twitter.cache.package@FutureCacheProxy[K,V]extendsFutureCache[K,V]" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">A proxy for <a href="FutureCache.html" class="extype" name="com.twitter.cache.FutureCache">FutureCache</a>s, useful for wrap-but-modify.</p>
    </li></ol>
            </div>

        

        <div id="values" class="values members">
              <h3>Value Members</h3>
              <ol><li name="com.twitter.cache.AsyncMemoize" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="AsyncMemoize"></a>
      <a id="AsyncMemoize:AsyncMemoize"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="AsyncMemoize$.html"><span class="name">AsyncMemoize</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#com.twitter.cache.package@AsyncMemoize" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="com.twitter.cache.EvictingCache" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="EvictingCache"></a>
      <a id="EvictingCache:EvictingCache"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="EvictingCache$.html"><span class="name">EvictingCache</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#com.twitter.cache.package@EvictingCache" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="com.twitter.cache.FutureCache" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="FutureCache"></a>
      <a id="FutureCache:FutureCache"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="FutureCache$.html"><span class="name">FutureCache</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#com.twitter.cache.package@FutureCache" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">The FutureCache object provides the public interface for constructing
FutureCaches.</p><div class="fullcomment"><div class="comment cmt"><p>The FutureCache object provides the public interface for constructing
FutureCaches.  Once you've constructed a basic FutureCache, you should almost
always wrap it with default.  Normal usage looks like:</p><p>val fn: K =&gt; Future[V]
val map = (new java.util.concurrent.ConcurrentHashMap[K, V]()).asScala
val cachedFn: K =&gt; Future[V] = FutureCache.default(fn, FutureCache.fromMap(map))</p><p>We typically recommend that you use Guava Caches.  There's an API that makes
it easy to use Guava caches, and can be found in the util-collection lib.
The object is called <span class="extype" name="com.twitter.cache.guava.Guava$">com.twitter.cache.guava.Guava$</span>.
</p></div></div>
    </li><li name="com.twitter.cache.Refresh" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="Refresh"></a>
      <a id="Refresh:Refresh"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="Refresh$.html"><span class="name">Refresh</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#com.twitter.cache.package@Refresh" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">A single-value asynchronous cache with TTL.</p><div class="fullcomment"><div class="comment cmt"><p>A single-value asynchronous cache with TTL.  The provider supplies the future value when invoked
and this class ensures that the provider is not invoked more frequently than the TTL.  If the
future fails, that failure is not cached. If more than one value is required, a FutureCache
backed by a guava cache with TTL may be more appropriate.</p><p>This is useful in situations where a call to an external service returns a value that changes
infrequently and we need to access that value often, for example asking a service for a list of
features that it supports.</p><p>A non-memoized function like this:
  def getData(): Future[T] = { ... }</p><p>can be memoized with a TTL of 1 hour as follows:
  import com.twitter.util.TimeConversions._
  import com.twitter.cache.Refresh
  val getData: () =&gt; Future[T] = Refresh.every(1.hour) { ... }
</p></div></div>
    </li><li name="com.twitter.cache.guava" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="guava"></a>
      <a id="guava:guava"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a href="guava/package.html"><span class="name">guava</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#com.twitter.cache.package@guava" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li></ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>


    </body>
      </html>
